<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Einführung in Big Data</title>

    <link rel="stylesheet" type="text/css" href="editor.css">
    <script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.11.3.min.js"></script>
    <script src="ace-min-noconflict/ace.js" type="text/javascript" charset="utf-8"></script>
    <script src="editor-utils.js" type="text/javascript" charset="utf-8"></script>
    <script>
        $(document).ready(function() {
            var editor_start = GetEditor("editor-start", {highlightActiveLine: false, readOnly: true});

            var editor_input = GetEditor("editor-input", {
                        firstLineNumber: editor_start.session.getLength() + 1,
                        maxLines: 150
                    }
            );
            var editor_solution = GetEditor("editor-solution", {
                        highlightActiveLine: false,
                        readOnly: true,
                        firstLineNumber: editor_start.session.getLength() + 1,
                        maxLines: 150
                    }
            );

            var tries = 0;

            $("#btn-eval").on("click", function() {
                if (editor_input.session.getAnnotations().some(function(anno) { return anno.type == "error" }))  {
                    window.alert("Es befinden sich Syntaxfehler im Code.");
                }
                else {
                    window.alert("Führe Code aus.");
                }

                if (++tries > 0) {
                    $("#btn-solve").show();
                }
            });

            $("#btn-solve").on("click", function() {
                $("#editor-solution").show();

            });
        });
    </script>
</head>
<body>

<h1>Einführung in Big Data -- Das Spiel</h1>

<div class="body">
    <div>
        <pre id="editor-start" class="editor">
["apple", "pear", "orange"].
    forEach(function(fruit) {
        window.alert(fruit);
    });
        </pre>
    </div>

    <div>
        <button id="btn-eval">Ausführen</button>
        <button id="btn-solve" hidden>Lösung zeigen</button>
    </div>


    <div>
        <pre id="editor-input" class="editor split">
window.alert("HEY YOU!");
        </pre>

        <pre id="editor-solution" class="editor split hidden">
window.alert("HEY YOU!");
window.alert("HEY YOU!");
window.alert("HEY YOU!");
window.alert("HEY YOU!");
window.alert("HEY YOU!");
        </pre>
    </div>
</div>

</body>
</html>